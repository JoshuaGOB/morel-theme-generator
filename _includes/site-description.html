<p>MOREL generates web sites from bibliographic collections. The MOREL sites gather book covers, excerpts, bibliographic clues, metadata and digital downloads from works stored in the Zotero reference manager.</p>

<!-- more -->

<p>Works are organized by dynamic lists, which automatically group the works according to common characteristics:</p>

<ul>
  <li><a href="/criteria/author">authors</a></li>
  <li><a href="/criteria/city">city of publication</a></li>
  <li><a href="/criteria/publisher">imprint or publisher</a></li>
  <li><a href="/criteria/nationality">nationality of authors</a></li>
  <li><a href="/criteria/edition">edition date</a></li>
  <li><a href="/criteria/repository">digital repository</a>.</li>
</ul>

<p>MOREL also has a <a href="/search">search engine</a> that allows you to find works directly.</p>

<h1 id="installation-instructions">Installation Instructions</h1>

<h2 id="prerequisites">Prerequisites</h2>

<ul>
  <li>
    <p><strong>Zotero</strong>: Install Zotero reference management software from the <a href="https://www.zotero.org/">official website</a> and create collections to organize your content.</p>
  </li>
  <li>
    <p><strong>Python</strong>: Install Python programming language from the <a href="https://www.python.org/">official Python website</a> based on your operating system. Ensure you have Python version 3.x installed.</p>
  </li>
  <li>
    <p><strong>Jekyll</strong>: Install Jekyll, a static site generator, using your preferred method:</p>
    <ul>
      <li>For macOS or Linux, open a terminal and run the following command:
        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>gem <span class="nb">install </span>bundler jekyll
</code></pre></div>        </div>
      </li>
      <li>For Windows, follow the installation guide provided on the <a href="https://jekyllrb.com/docs/installation/windows/">Jekyll website</a>.</li>
    </ul>
  </li>
</ul>

<h2 id="install">Install the Theme</h2>

<ul>
  <li>Fork the repository. That is, create a copy in your <a href="github.com">Github</a> account.</li>
  <li>Open your system’s terminal in the folder on your local computer where you will be working on the site (Mac and Linux have native terminals. For Windows, you will have to use <a href="https://learn.microsoft.com/en-us/windows/wsl/install">WLS</a>.</li>
  <li>Run <code class="language-plaintext highlighter-rouge">$ git clone http://febr3s.github.io/morel-site-generator</code> to clone the repository.</li>
  <li>Run <code class="language-plaintext highlighter-rouge">$ cd morel-site-generator</code> to move to the repository folder</li>
  <li>Run <code class="language-plaintext highlighter-rouge">$ bundle update</code> to update the theme and its dependencies. If you don’t have Ruby on your system, follow the instructions in <a href="https://jekyllrb.com/docs/ruby-101/">Jekyll</a></li>
  <li>Run <code class="language-plaintext highlighter-rouge">ruby dev.rb</code>(alternatively, delete <code class="language-plaintext highlighter-rouge">febr3s.github.io/morel-theme-generator</code> from the <code class="language-plaintext highlighter-rouge">remote_theme:</code> line in <code class="language-plaintext highlighter-rouge">_config.yml</code>)</li>
  <li>Run <code class="language-plaintext highlighter-rouge">$ bundle exec jekyll serve --config _config.yml,_config_local.yml --livereload</code> to run the test site.</li>
</ul>

<h2 id="configure">Customize the Site</h2>

<p>Now you have on your local computer a ready-made site <em>with sample content, from the MOREL  site Afro Latin American Writers in Translation (<a href="https://alawit.org">ALAWiT</a>)</em>. You can run it locally to test with <code class="language-plaintext highlighter-rouge">$ bundle exec jekyll serve --config _config.yml,_config_local.yml --livereload</code>.</p>

<p>To fill it with your site’s information, follow these steps:</p>

<ul>
  <li>Open _config.yml in your text editor and change:
    <ul>
      <li>The <code class="language-plaintext highlighter-rouge">title</code> to your site’s.</li>
      <li>The <code class="language-plaintext highlighter-rouge">tagline</code> to your site’s.</li>
      <li>The <code class="language-plaintext highlighter-rouge">email</code> and/or social media accounts to your site’s.</li>
      <li>The <code class="language-plaintext highlighter-rouge">description</code> to your site’s.</li>
      <li>The <code class="language-plaintext highlighter-rouge">jotform</code> link (create your free account at https://www.jotform.com/).</li>
    </ul>
  </li>
  <li>Replace the logo, raster and avatar files by adding a file to:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">assets/img/img/theme/logo.png</code></li>
      <li><code class="language-plaintext highlighter-rouge">assets/img/img/theme/avatar.jpg</code></li>
      <li><code class="language-plaintext highlighter-rouge">assets/img/img/theme/plot.png</code></li>
    </ul>
  </li>
  <li>Open the <code class="language-plaintext highlighter-rouge">podcast.md</code> file and change the title and tagline of your podcast or blog.</li>
  <li>The <code class="language-plaintext highlighter-rouge">_posts</code> folder has the MOREL posts. Delete the MOREL posts and create your own with <a href="https://jekyllrb.com/docs/posts/">Jekyll nomenclature</a>. If you don’t want to add any podcast posts or episodes to your site, change in <code class="language-plaintext highlighter-rouge">_config.yml</code> the <code class="language-plaintext highlighter-rouge">podcast</code> value to <code class="language-plaintext highlighter-rouge">false</code>.</li>
</ul>

<h2 id="generate">Generate Content from Zotero</h2>

<ul>
  <li>Run <code class="language-plaintext highlighter-rouge">$ jekyll build --config _config_local.yml</code> to import to the <code class="language-plaintext highlighter-rouge">_sites</code> folder the updated content generators.</li>
  <li>Run <code class="language-plaintext highlighter-rouge">$ unzip -d ./assets/ ./_site/assets/env.zip</code> to update the Python environment that generates the contents.</li>
  <li>Open Zotero and review the <a href="#zotero-fields">guide</a> to make the fields 100 % readable for MOREL.</li>
  <li>Export your Zotero collection as <code class="language-plaintext highlighter-rouge">csv</code>. If you don’t know how to do it follow the instructions <a href="https://www.zotero.org/support/kb/exporting">here</a>.</li>
  <li>Name your <code class="language-plaintext highlighter-rouge">csv</code> file as <code class="language-plaintext highlighter-rouge">books_zotero.csv</code>. Replace the file of the same name found in the <code class="language-plaintext highlighter-rouge">assets/data</code> folder.</li>
  <li>Run <code class="language-plaintext highlighter-rouge">$ cd assets/env/bin</code> to go to the folder where the Python environment is activated. Activate it with <code class="language-plaintext highlighter-rouge">$ source activate</code>.</li>
  <li>Run <code class="language-plaintext highlighter-rouge">$ cd ../src</code> to move to the folder where the Python scripts are located.</li>
  <li>Run <code class="language-plaintext highlighter-rouge">$ python morel-generate</code> to generate the content from your Zotero collection.</li>
  <li>Run <code class="language-plaintext highlighter-rouge">$ bundle exec jekyll serve --config _config.yml,_config_local.yml --livereload</code> to activate the local server for browsing.</li>
  <li>Open the browser and go to the link provided by the local server (usually it’s http://127.0.0.1:4000).</li>
  <li>Browse your custom site!</li>
</ul>

<h2 id="publish">Deploy</h2>
<ul>
  <li>Run <code class="language-plaintext highlighter-rouge">$ ruby prod.rb</code>(alternatively, add <code class="language-plaintext highlighter-rouge">febr3s.github.io/morel-theme-generator</code> to the <code class="language-plaintext highlighter-rouge">remote_theme</code> line:)</li>
  <li>To publish to Github, follow their <a href="https://docs.github.com/en/pages/quickstart">instructions</a> (ignore the “New repository” step as you are working with your MOREL fork).</li>
  <li>To publish with a third party, follow Jekyll’s <a href="https://jekyllrb.com/docs/deployment/third-party/">instructions</a>.</li>
  <li>To publish to your personal server follow Jekyll’s <a href="https://jekyllrb.com/docs/deployment/manual/">instructions</a>.</li>
</ul>

<h2 id="to-install-the-theme-as-a-local-ruby-gem-or-without-code">To install the theme as a local Ruby gem, or without code</h2>

<p>We are working on instructions and utilities to facilitate these possibilities.</p>

<h3 id="subscribe-to-one-of-our-channels-to-stay-updated-suscribe">Subscribe to one of our channels to stay updated {#suscribe}:</h3>

<ul>
  <li><a href="https://twitter.com/morelrep">Twitter</a></li>
  <li><a href="https://www.facebook.com/morelrep">Facebook</a></li>
  <li><a href="t.me/morelrep">Telegram</a></li>
</ul>

<h2 id="zotero-fields">Zotero fields</h2>

<p>MOREL items are added in the same way that items are added in any <a href="https://www.zotero.org/support/adding_items_to_zotero">Zotero library</a>. In its current version, MOREL can only process items of type <code class="language-plaintext highlighter-rouge">book</code>. Since not all the fields needed for MOREL are available for the <code class="language-plaintext highlighter-rouge">book</code> content type, some considerations must be made:</p>

<ul>
  <li>Excerpt: the fragment from each MOREL record corresponds to the <code class="language-plaintext highlighter-rouge">notes</code> of Zotero (see the [documentation] of the notes (https://www.zotero.org/support/notes) of Zotero). In its current version, MOREL <em>only accepts one excerpt per book</em>.</li>
  <li>Cover: the cover is a jpg file that is added as an <code class="language-plaintext highlighter-rouge">attachment</code> to the Zotero item (see the Zotero attachments <a href="https://www.zotero.org/support/attaching_files">documentation</a>).</li>
  <li>Translation or original: in order to filter translated books from originals, MOREL uses Zotero’s <code class="language-plaintext highlighter-rouge">Series</code> field to indicate whether it is a translation with the <code class="language-plaintext highlighter-rouge">tr</code> sign.</li>
  <li>First edition: MOREL uses the <code class="language-plaintext highlighter-rouge">Date</code> field for the date of publication of the book and the <code class="language-plaintext highlighter-rouge">Edition</code> field for the date of first edition.</li>
</ul>

<h2 id="about-page-for-your-site">“About” page for your site</h2>

<p>If you aren’t using MOREL yet, go to the <a href="#install">installation instructions</a> bellow. If you installed MOREL already, these are your last steps to have it ready to run:</p>

<ul>
  <li>Delete the file <code class="language-plaintext highlighter-rouge">_abouts/site-description.md</code></li>
  <li>Edit <code class="language-plaintext highlighter-rouge">site-description_template</code>. The file <code class="language-plaintext highlighter-rouge">site-description_template.md</code> has the current description for one of the sites built with MOREL: Afro-Latin American Writers in Translation (ALAWiT). Edit to your site’s needs. But note that there are dynamic fields, such as “MOREL” and “90”. We recommend you to keep them in your edition, so your site description is automatically updated as your collection grows.</li>
  <li>Rename the file to <code class="language-plaintext highlighter-rouge">site-description.md</code></li>
  <li>Run Jekyll build if you are using a local server, or wait for Github to deploy</li>
</ul>

